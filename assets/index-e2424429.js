import{aZ as K,a_ as ye,a$ as we,v as C,b0 as Se,c as M,d as W,n as _,p as E,b as R,a as b,$ as U,b1 as Te,am as q,z as $,D as Ce,m as ke,q as L,b2 as Ie,y as xe,x as Re,aV as Be,A as $e,N as B,E as _e,G as Ae,W as Pe,K as ze,b3 as Ne,M as Le,R as p,aq as Oe,ax as Ee,b4 as ee,ap as te,S as Me,aa as We,a6 as De,b5 as He,T as Ze,ai as Ve,V as qe,Q as Fe,L as Ke,a2 as Ue,a0 as Xe,a1 as Ye,w as le}from"./index-021851cb.js";import{u as ie}from"./use-id-0e83a702.js";import{a as X}from"./function-call-4f99f67f.js";import{a as je,S as Ge}from"./index-265a5c64.js";function Qe(e,l,o){let s=0;const a=e.scrollLeft,f=o===0?1:Math.round(o*1e3/16);function d(){e.scrollLeft+=(l-a)/f,++s<f&&K(d)}d()}function Je(e,l,o,s){let a=ye(e);const f=a<l,d=o===0?1:Math.round(o*1e3/16),v=(l-a)/d;function r(){a+=v,(f&&a>l||!f&&a<l)&&(a=l),we(e,a),f&&a<l||!f&&a>l?K(r):s&&K(s)}r()}function pe(){const e=C([]),l=[];return Se(()=>{e.value=[]}),[e,s=>(l[s]||(l[s]=a=>{e.value[s]=a}),l[s])]}const[et,ne]=M("tab");var tt=W({name:et,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:_,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:E},setup(e,{slots:l}){const o=R(()=>{const a={},{type:f,color:d,disabled:v,isActive:r,activeColor:w,inactiveColor:h}=e;d&&f==="card"&&(a.borderColor=d,v||(r?a.backgroundColor=d:a.color=d));const T=r?w:h;return T&&(a.color=T),a}),s=()=>{const a=b("span",{class:ne("text",{ellipsis:!e.scrollable})},[l.title?l.title():e.title]);return e.dot||U(e.badge)&&e.badge!==""?b(Te,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>b("div",{id:e.id,role:"tab",class:[ne([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:o.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[s()])}});const[nt,ae]=M("tabs");var at=W({name:nt,props:{count:q(Number),inited:Boolean,animated:Boolean,duration:q(_),swipeable:Boolean,lazyRender:Boolean,currentIndex:q(Number)},emits:["change"],setup(e,{emit:l,slots:o}){const s=C(),a=v=>l("change",v),f=()=>{var v;const r=(v=o.default)==null?void 0:v.call(o);return e.animated||e.swipeable?b(je,{ref:s,loop:!1,class:ae("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[r]}):r},d=v=>{const r=s.value;r&&r.state.active!==v&&r.swipeTo(v,{immediate:!e.inited})};return $(()=>e.currentIndex,d),Ce(()=>{d(e.currentIndex)}),X({swipeRef:s}),()=>b("div",{class:ae("content",{animated:e.animated||e.swipeable})},[f()])}});const[oe,O]=M("tabs"),lt={type:ke("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:L(0),duration:L(.3),animated:Boolean,ellipsis:E,swipeable:Boolean,scrollspy:Boolean,offsetTop:L(0),background:String,lazyRender:E,lineWidth:_,lineHeight:_,beforeChange:Function,swipeThreshold:L(5),titleActiveColor:String,titleInactiveColor:String},re=Symbol(oe);var it=W({name:oe,props:lt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:l,slots:o}){let s,a,f;const d=C(),v=C(),r=C(),w=C(),h=ie(),S=Ie(d),[T,D]=pe(),{children:u,linkChildren:H}=xe(re),c=Re({inited:!1,position:"",lineStyle:{},currentIndex:-1}),A=R(()=>u.length>e.swipeThreshold||!e.ellipsis||e.shrink),Z=R(()=>({borderColor:e.color,background:e.background})),k=(t,n)=>{var i;return(i=t.name)!=null?i:n},Y=R(()=>{const t=u[c.currentIndex];if(t)return k(t,c.currentIndex)}),V=R(()=>Be(e.offsetTop)),j=R(()=>e.sticky?V.value+s:0),P=t=>{const n=v.value,i=T.value;if(!A.value||!n||!i||!i[c.currentIndex])return;const m=i[c.currentIndex].$el,g=m.offsetLeft-(n.offsetWidth-m.offsetWidth)/2;Qe(n,g,t?0:+e.duration)},I=()=>{const t=c.inited;B(()=>{const n=T.value;if(!n||!n[c.currentIndex]||e.type!=="line"||Le(d.value))return;const i=n[c.currentIndex].$el,{lineWidth:m,lineHeight:g}=e,y=i.offsetLeft+i.offsetWidth/2,x={width:p(m),backgroundColor:e.color,transform:`translateX(${y}px) translateX(-50%)`};if(t&&(x.transitionDuration=`${e.duration}s`),U(g)){const J=p(g);x.height=J,x.borderRadius=J}c.lineStyle=x})},se=t=>{const n=t<c.currentIndex?-1:1;for(;t>=0&&t<u.length;){if(!u[t].disabled)return t;t+=n}},z=(t,n)=>{const i=se(t);if(!U(i))return;const m=u[i],g=k(m,i),y=c.currentIndex!==null;c.currentIndex!==i&&(c.currentIndex=i,n||P(),I()),g!==e.active&&(l("update:active",g),y&&l("change",g,m.title)),f&&!e.scrollspy&&Ee(Math.ceil(ee(d.value)-V.value))},N=(t,n)=>{const i=u.find((g,y)=>k(g,y)===t),m=i?u.indexOf(i):0;z(m,n)},G=(t=!1)=>{if(e.scrollspy){const n=u[c.currentIndex].$el;if(n&&S.value){const i=ee(n,S.value)-j.value;a=!0,Je(S.value,i,t?0:+e.duration,()=>{a=!1})}}},ce=(t,n,i)=>{const{title:m,disabled:g}=u[n],y=k(u[n],n);g||(De(e.beforeChange,{args:[y],done:()=>{z(n),G()}}),He(t)),l("clickTab",{name:y,title:m,event:i,disabled:g})},de=t=>{f=t.isFixed,l("scroll",t)},ue=t=>{B(()=>{N(t),G(!0)})},fe=()=>{for(let t=0;t<u.length;t++){const{top:n}=te(u[t].$el);if(n>j.value)return t===0?0:t-1}return u.length-1},ve=()=>{if(e.scrollspy&&!a){const t=fe();z(t)}},be=()=>u.map((t,n)=>b(tt,Me({key:t.id,id:`${h}-${n}`,ref:D(n),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,shrink:e.shrink,isActive:n===c.currentIndex,controls:t.id,scrollable:A.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:i=>ce(t,n,i)},We(t,["dot","badge","title","disabled","showZeroBadge"])),{title:t.$slots.title})),he=()=>{if(e.type==="line"&&u.length)return b("div",{class:O("line"),style:c.lineStyle},null)},Q=()=>{var t,n,i;const{type:m,border:g,sticky:y}=e,x=[b("div",{ref:y?void 0:r,class:[O("wrap"),{[Oe]:m==="line"&&g}]},[b("div",{ref:v,role:"tablist",class:O("nav",[m,{shrink:e.shrink,complete:A.value}]),style:Z.value,"aria-orientation":"horizontal"},[(t=o["nav-left"])==null?void 0:t.call(o),be(),he(),(n=o["nav-right"])==null?void 0:n.call(o)])]),(i=o["nav-bottom"])==null?void 0:i.call(o)];return y?b("div",{ref:r},[x]):x};$([()=>e.color,$e],I),$(()=>e.active,t=>{t!==Y.value&&N(t)}),$(()=>u.length,()=>{c.inited&&(N(e.active),I(),B(()=>{P(!0)}))});const ge=()=>{N(e.active,!0),B(()=>{c.inited=!0,r.value&&(s=te(r.value).height),P(!0)})},me=(t,n)=>l("rendered",t,n);return X({resize:()=>{I(),B(()=>{var t,n;return(n=(t=w.value)==null?void 0:t.swipeRef.value)==null?void 0:n.resize()})},scrollTo:ue}),_e(I),Ae(I),Pe(ge),ze("scroll",ve,{target:S,passive:!0}),H({id:h,props:e,setLine:I,onRendered:me,currentName:Y,scrollIntoView:P}),()=>b("div",{ref:d,class:O([e.type])},[e.sticky?b(Ne,{container:d.value,offsetTop:V.value,onScroll:de},{default:()=>[Q()]}):Q(),b(at,{ref:w,count:u.length,inited:c.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:c.currentIndex,onChange:z},{default:()=>{var t;return[(t=o.default)==null?void 0:t.call(o)]}})])}});const ot=Symbol(),[rt,F]=M("tab"),st=Ze({},Ve,{dot:Boolean,name:_,badge:_,title:String,disabled:Boolean,titleClass:qe,titleStyle:[String,Object],showZeroBadge:E});var ct=W({name:rt,props:st,setup(e,{slots:l}){const o=ie(),s=C(!1),{parent:a,index:f}=Fe(re);if(!a)return;const d=()=>{var h;return(h=e.name)!=null?h:f.value},v=()=>{s.value=!0,a.props.lazyRender&&B(()=>{a.onRendered(d(),e.title)})},r=R(()=>{const h=d()===a.currentName.value;return h&&!s.value&&v(),h}),w=C(!r.value);return $(r,h=>{h?w.value=!1:Ke(()=>{w.value=!0})}),$(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),Ue(ot,r),()=>{var h;const S=`${a.id}-${f.value}`,{animated:T,swipeable:D,scrollspy:u,lazyRender:H}=a.props;if(!l.default&&!T)return;const c=u||r.value;if(T||D)return b(Ge,{id:o,role:"tabpanel",class:F("panel-wrapper",{inactive:w.value}),tabindex:r.value?0:-1,"aria-hidden":!r.value,"aria-labelledby":S},{default:()=>{var k;return[b("div",{class:F("panel")},[(k=l.default)==null?void 0:k.call(l)])]}});const Z=s.value||u||!H?(h=l.default)==null?void 0:h.call(l):null;return X({id:o}),Xe(b("div",{id:o,role:"tabpanel",class:F("panel"),tabindex:c?0:-1,"aria-labelledby":S},[Z]),[[Ye,c]])}}});const ht=le(ct),gt=le(it);export{gt as T,ht as a};
